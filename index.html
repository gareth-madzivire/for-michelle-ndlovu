<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Michelle</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Great+Vibes&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
  :root {
    --rose: #c4405a;
    --rose-deep: #9e2a42;
    --rose-light: #e8899a;
    --blush: #f5d0d6;
    --cream: #fff8f0;
    --gold: #d4a857;
    --gold-light: #f0d68a;
    --wine: #5c1a2a;
    --petal: #f2c1c8;
    --bg: #1a0a10;
    --bg-card: #2a1018;
    --text-light: #f5e6ea;
    --text-muted: #c9a0aa;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html { scroll-behavior: smooth; }

  body {
    font-family: 'Cormorant Garamond', serif;
    background: var(--bg);
    color: var(--text-light);
    min-height: 100vh;
    overflow-x: hidden;
    -webkit-tap-highlight-color: transparent;
  }

  .starfield {
    position: fixed;
    inset: 0;
    z-index: 0;
    overflow: hidden;
    pointer-events: none;
  }

  .star {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 220, 230, 0.6);
    animation: twinkle var(--dur) ease-in-out infinite alternate;
  }

  @keyframes twinkle {
    0% { opacity: 0.2; transform: scale(0.8); }
    100% { opacity: 1; transform: scale(1.2); }
  }

  .hearts-container {
    position: fixed;
    inset: 0;
    z-index: 1;
    pointer-events: none;
    overflow: hidden;
  }

  .floating-heart {
    position: absolute;
    bottom: -60px;
    color: var(--rose);
    opacity: 0;
    animation: floatUp var(--dur) ease-in forwards;
    animation-delay: var(--delay);
    font-size: var(--size);
    filter: blur(var(--blur, 0px));
  }

  @keyframes floatUp {
    0% { opacity: 0; transform: translateY(0) rotate(0deg) scale(0.5); }
    15% { opacity: var(--peak-opacity, 0.7); }
    85% { opacity: var(--peak-opacity, 0.7); }
    100% { opacity: 0; transform: translateY(calc(-100vh - 100px)) rotate(var(--rot, 30deg)) scale(1); }
  }

  .scene {
    position: fixed;
    inset: 0;
    z-index: 10;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.8s ease;
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
  }

  .scene-inner {
    min-height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
  }

  .scene-inner.scroll-layout {
    justify-content: flex-start;
    padding-top: 40px;
    padding-bottom: 60px;
  }

  .scene.active {
    opacity: 1;
    pointer-events: auto;
  }

  .envelope-wrapper {
    cursor: pointer;
    position: relative;
    animation: gentleFloat 3s ease-in-out infinite;
  }

  @keyframes gentleFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-12px); }
  }

  .envelope {
    width: min(320px, 80vw);
    height: min(220px, 55vw);
    background: linear-gradient(135deg, var(--rose) 0%, var(--rose-deep) 100%);
    border-radius: 8px;
    position: relative;
    box-shadow: 0 20px 60px rgba(156, 30, 60, 0.4), 0 0 80px rgba(196, 64, 90, 0.15);
    transition: transform 0.4s ease;
  }

  .envelope:hover {
    transform: scale(1.03);
  }

  .envelope-flap {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 50%;
    background: linear-gradient(160deg, var(--rose-deep), #b33550);
    clip-path: polygon(0 0, 50% 100%, 100% 0);
    z-index: 2;
    transform-origin: top center;
    transition: transform 0.6s ease;
  }

  .envelope-wrapper.opened .envelope-flap {
    transform: rotateX(180deg);
  }

  .envelope-heart {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 3;
    font-size: 42px;
    color: var(--gold);
    filter: drop-shadow(0 0 12px rgba(212, 168, 87, 0.5));
    animation: heartPulse 1.5s ease-in-out infinite;
  }

  @keyframes heartPulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(-50%, -50%) scale(1.15); }
  }

  .envelope-seal {
    position: absolute;
    bottom: 18px;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Great Vibes', cursive;
    color: var(--gold-light);
    font-size: 18px;
    letter-spacing: 1px;
    opacity: 0.9;
  }

  .scene1-hint {
    margin-top: 40px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 18px;
    color: var(--text-muted);
    font-style: italic;
    animation: fadeInUp 1.2s ease 0.5s both;
    letter-spacing: 1px;
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .letter-card {
    max-width: 520px;
    width: 92vw;
    background: linear-gradient(170deg, #2e1420 0%, #1e0c16 100%);
    border: 1px solid rgba(196, 64, 90, 0.25);
    border-radius: 20px;
    padding: 36px 28px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 200, 210, 0.08);
  }

  .letter-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(ellipse at 30% 20%, rgba(196, 64, 90, 0.08) 0%, transparent 60%);
    pointer-events: none;
  }

  .letter-ornament {
    text-align: center;
    color: var(--gold);
    font-size: 24px;
    margin-bottom: 16px;
    opacity: 0;
    animation: fadeInUp 0.8s ease forwards;
  }

  .letter-name {
    font-family: 'Great Vibes', cursive;
    font-size: clamp(38px, 9vw, 58px);
    text-align: center;
    background: linear-gradient(135deg, var(--gold-light), var(--gold), var(--rose-light));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 6px;
    opacity: 0;
    animation: fadeInUp 0.8s ease 0.2s forwards;
    filter: drop-shadow(0 2px 8px rgba(212, 168, 87, 0.3));
  }

  .letter-divider {
    width: 80px;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
    margin: 12px auto 24px;
    opacity: 0;
    animation: fadeInUp 0.8s ease 0.4s forwards;
  }

  .letter-body {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(17px, 4.2vw, 20px);
    line-height: 1.85;
    color: var(--text-light);
    text-align: left;
    opacity: 0;
    animation: fadeInUp 0.8s ease 0.5s forwards;
    margin-bottom: 28px;
  }

  .letter-body p {
    margin-bottom: 18px;
  }

  .letter-body .highlight {
    color: var(--rose-light);
    font-weight: 600;
  }

  .letter-body .gold {
    color: var(--gold-light);
    font-weight: 600;
  }

  .letter-body .ask {
    display: block;
    text-align: center;
    font-size: clamp(20px, 5vw, 26px);
    font-weight: 600;
    color: var(--rose-light);
    margin: 28px 0;
    font-style: italic;
  }

  .letter-body .future {
    display: block;
    text-align: center;
    font-size: clamp(16px, 4vw, 19px);
    color: var(--gold-light);
    margin: 16px 0 24px;
    font-style: italic;
  }

  .letter-signature {
    text-align: right;
    font-family: 'Great Vibes', cursive;
    font-size: clamp(24px, 6vw, 34px);
    color: var(--gold);
    opacity: 0;
    animation: fadeInUp 0.8s ease 0.7s forwards;
    margin-bottom: 28px;
    filter: drop-shadow(0 1px 4px rgba(212, 168, 87, 0.3));
  }

  .next-btn {
    display: block;
    margin: 0 auto;
    padding: 14px 40px;
    background: linear-gradient(135deg, var(--rose), var(--rose-deep));
    color: white;
    border: none;
    border-radius: 50px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 18px;
    letter-spacing: 2px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 8px 24px rgba(156, 30, 60, 0.4);
    opacity: 0;
    animation: fadeInUp 0.8s ease 0.9s forwards;
  }

  .next-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 32px rgba(156, 30, 60, 0.5);
  }

  .next-btn:active {
    transform: translateY(0);
  }

  .reasons-container {
    max-width: 480px;
    width: 90vw;
    text-align: center;
  }

  .reasons-title {
    font-family: 'Great Vibes', cursive;
    font-size: clamp(32px, 8vw, 48px);
    background: linear-gradient(135deg, var(--gold-light), var(--rose-light));
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 32px;
    opacity: 0;
    animation: fadeInUp 0.8s ease forwards;
  }

  .reason-card {
    background: linear-gradient(170deg, rgba(46, 20, 32, 0.9), rgba(30, 12, 22, 0.9));
    border: 1px solid rgba(196, 64, 90, 0.15);
    border-radius: 16px;
    padding: 20px 24px;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 16px;
    opacity: 0;
    transform: translateX(-30px);
    animation: slideIn 0.6s ease forwards;
    transition: border-color 0.3s ease, transform 0.3s ease;
  }

  .reason-card:hover {
    border-color: rgba(196, 64, 90, 0.4);
    transform: translateX(4px);
  }

  @keyframes slideIn {
    to { opacity: 1; transform: translateX(0); }
  }

  .reason-icon {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--rose), var(--rose-deep));
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    font-size: 18px;
    box-shadow: 0 4px 12px rgba(156, 30, 60, 0.3);
  }

  .reason-text {
    font-family: 'Cormorant Garamond', serif;
    font-size: 17px;
    line-height: 1.5;
    color: var(--text-light);
    text-align: left;
  }

  .reasons-footer {
    margin-top: 32px;
    opacity: 0;
    animation: fadeInUp 0.8s ease 2s forwards;
  }

  .finale-container {
    text-align: center;
    position: relative;
  }

  .finale-heart {
    font-size: clamp(80px, 20vw, 140px);
    animation: heartBeat 1.2s ease-in-out infinite;
    display: inline-block;
    filter: drop-shadow(0 0 40px rgba(196, 64, 90, 0.5));
    margin-bottom: 20px;
  }

  @keyframes heartBeat {
    0%, 100% { transform: scale(1); }
    15% { transform: scale(1.15); }
    30% { transform: scale(1); }
    45% { transform: scale(1.1); }
    60% { transform: scale(1); }
  }

  .finale-text {
    font-family: 'Great Vibes', cursive;
    font-size: clamp(36px, 10vw, 72px);
    background: linear-gradient(135deg, var(--gold-light), var(--gold), var(--rose-light), var(--gold-light));
    background-size: 300% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 12px;
    opacity: 0;
    animation: fadeInUp 1s ease 0.3s forwards, shimmer 4s ease-in-out 1.3s infinite;
  }

  @keyframes shimmer {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  .finale-message {
    font-family: 'Cormorant Garamond', serif;
    font-size: 20px;
    color: var(--text-muted);
    font-style: italic;
    line-height: 1.7;
    max-width: 380px;
    margin: 20px auto 0;
    opacity: 0;
    animation: fadeInUp 1s ease 0.8s forwards;
  }

  .finale-sub {
    font-family: 'Cormorant Garamond', serif;
    font-size: 15px;
    color: var(--text-muted);
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-top: 16px;
    opacity: 0;
    animation: fadeInUp 1s ease 1.2s forwards;
  }

  .restart-btn {
    margin-top: 40px;
    padding: 12px 30px;
    background: transparent;
    color: var(--text-muted);
    border: 1px solid rgba(196, 64, 90, 0.3);
    border-radius: 50px;
    font-family: 'Cormorant Garamond', serif;
    font-size: 16px;
    letter-spacing: 2px;
    cursor: pointer;
    transition: all 0.3s ease;
    opacity: 0;
    animation: fadeInUp 0.8s ease 1.5s forwards;
  }

  .restart-btn:hover {
    border-color: var(--rose);
    color: var(--rose-light);
    background: rgba(196, 64, 90, 0.08);
  }

  .petal-burst {
    position: fixed;
    inset: 0;
    z-index: 100;
    pointer-events: none;
    overflow: hidden;
  }

  .petal {
    position: absolute;
    width: var(--petal-size, 14px);
    height: var(--petal-size, 14px);
    background: var(--petal-color, var(--rose));
    border-radius: 50% 0 50% 50%;
    opacity: 0;
    animation: petalFall var(--petal-dur, 3s) ease forwards;
    animation-delay: var(--petal-delay, 0s);
  }

  @keyframes petalFall {
    0% {
      opacity: 0.9;
      transform: translate(0, 0) rotate(0deg) scale(1);
    }
    100% {
      opacity: 0;
      transform: translate(var(--dx, 100px), var(--dy, 400px)) rotate(var(--dr, 360deg)) scale(0.3);
    }
  }

  .flash-overlay {
    position: fixed;
    inset: 0;
    z-index: 50;
    background: radial-gradient(circle at center, rgba(196, 64, 90, 0.3), transparent);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
  }

  .flash-overlay.active {
    opacity: 1;
  }

  .scroll-hint {
    text-align: center;
    color: var(--text-muted);
    font-size: 14px;
    letter-spacing: 2px;
    margin-top: 24px;
    opacity: 0;
    animation: fadeInUp 0.8s ease 1.2s forwards;
  }

  .scroll-hint i {
    display: block;
    margin-top: 6px;
    animation: bounceDown 1.5s ease-in-out infinite;
    font-size: 16px;
  }

  @keyframes bounceDown {
    0%, 100% { transform: translateY(0); opacity: 0.5; }
    50% { transform: translateY(6px); opacity: 1; }
  }

  ::-webkit-scrollbar { width: 4px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: var(--rose-deep); border-radius: 4px; }
</style>
</head>
<body>

<div class="starfield" id="starfield"></div>
<div class="hearts-container" id="heartsContainer"></div>
<div class="flash-overlay" id="flashOverlay"></div>

<div class="scene active" id="scene1">
  <div class="scene-inner">
    <div class="envelope-wrapper" id="envelopeWrapper" role="button" tabindex="0" aria-label="Open the envelope">
      <div class="envelope">
        <div class="envelope-flap"></div>
        <div class="envelope-heart"><i class="fas fa-heart"></i></div>
        <div class="envelope-seal">sealed with love</div>
      </div>
    </div>
    <p class="scene1-hint">tap to open</p>
  </div>
</div>

<div class="scene" id="scene2">
  <div class="scene-inner scroll-layout">
    <div class="letter-card">
      <div class="letter-ornament">&#10047; &#9829; &#10047;</div>
      <div class="letter-name">Michelle,</div>
      <div class="letter-divider"></div>
      <div class="letter-body">
        <p>I want to tell you something honestly about me.</p>

        <p>I am a very deliberate man. I take my time with choices and try to be wise about the people I let into my life. Sometimes that can make me seem a little mysterious or quiet, but it's simply because I value what is real more than noise or appearances.</p>

        <p>Distance right now might seem like a barrier, but to me it isn't. Some things are worth <span class="highlight">patience and effort.</span></p>

        <p>One thing I am sure about is this: <span class="highlight">I like you.</span><br>
        From the very first day we met, something shifted in me. At first, I didn't understand it, but now I do.</p>

        <p>I enjoy how natural things feel with you. I enjoy our conversations, your laughter, and the ease between us. And I would really like us to start building something <span class="gold">meaningful together</span> ... step by step ... something grounded in respect, faith, friendship, and hope for the future.</p>

        <p>Today also marks <span class="highlight">ten months and four days</span> since we first met, a small moment that unexpectedly became important to me.</p>

        <p>So today, on Valentine's Day, I want to ask you something sincerely:</p>

        <span class="ask">I would like you to be my girlfriend.</span>

        <span class="future">And as time goes on, if life and love continue to grow the right way, I would love the possibility of you becoming the future Mrs. Gareth one day.</span>

        <p style="text-align:center;">I hope that is something you would want too.</p>

        <p style="text-align:center;margin-bottom:0;">Happy Valentine's Day, Michelle.</p>
      </div>
      <div class="letter-signature">Gareth &#9829;</div>
      <button class="next-btn" id="toReasonsBtn">
        Continue <i class="fas fa-arrow-right" style="margin-left:8px;font-size:14px;"></i>
      </button>
    </div>
    <div class="scroll-hint" id="scrollHint2">
      scroll down to read
      <i class="fas fa-chevron-down"></i>
    </div>
  </div>
</div>

<div class="scene" id="scene3">
  <div class="scene-inner scroll-layout">
    <div class="reasons-container">
      <div class="reasons-title">Why You're Special</div>
      <div id="reasonsList"></div>
      <div class="reasons-footer">
        <button class="next-btn" id="toFinaleBtn">One more thing... <i class="fas fa-heart" style="margin-left:8px;font-size:14px;"></i></button>
      </div>
    </div>
  </div>
</div>

<div class="scene" id="scene4">
  <div class="scene-inner">
    <div class="finale-container">
      <div class="finale-heart">&#10084;&#65039;</div>
      <div class="finale-text">Happy Valentine's Day</div>
      <div class="finale-text" style="font-size:clamp(28px,7vw,52px);animation-delay:0.6s;">Michelle</div>
      <div class="finale-message">
        Some things are worth the wait, and you, Michelle, are worth everything.
      </div>
      <div class="finale-sub">from Gareth, with all my heart</div>
      <button class="restart-btn" id="restartBtn"><i class="fas fa-redo" style="margin-right:8px;font-size:12px;"></i> Read Again</button>
    </div>
  </div>
</div>

<script>
(function() {
  "use strict";

  var REASONS = [
    { icon: "fa-star", text: "Your kindness makes the world a better place" },
    { icon: "fa-face-smile", text: "That smile of yours could outshine the sun" },
    { icon: "fa-music", text: "Your laughter is the best sound I have ever heard" },
    { icon: "fa-fire", text: "Your passion and drive inspire me every day" },
    { icon: "fa-gem", text: "You see beauty in things others overlook" },
    { icon: "fa-hand-holding-heart", text: "The way you care for others is truly rare" },
    { icon: "fa-wand-magic-sparkles", text: "You make every moment feel like magic" }
  ];

  function createStars() {
    var container = document.getElementById("starfield");
    var count = Math.min(80, Math.floor(window.innerWidth * window.innerHeight / 8000));
    for (var i = 0; i < count; i++) {
      var star = document.createElement("div");
      star.className = "star";
      var size = Math.random() * 2.5 + 1;
      star.style.width = size + "px";
      star.style.height = size + "px";
      star.style.left = Math.random() * 100 + "%";
      star.style.top = Math.random() * 100 + "%";
      star.style.setProperty("--dur", (Math.random() * 3 + 2) + "s");
      star.style.animationDelay = Math.random() * 4 + "s";
      container.appendChild(star);
    }
  }
  createStars();

  var heartSymbols = ["\u2665", "\u2661", "\u2764", "\uD83D\uDC95"];
  var heartColors = ["#c4405a", "#e8899a", "#d4a857", "#f2c1c8", "#9e2a42"];

  function spawnHeart() {
    var container = document.getElementById("heartsContainer");
    if (container.children.length > 20) return;

    var heart = document.createElement("div");
    heart.className = "floating-heart";
    heart.textContent = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
    heart.style.left = Math.random() * 100 + "%";
    heart.style.color = heartColors[Math.floor(Math.random() * heartColors.length)];

    var s = Math.random() * 20 + 14;
    heart.style.setProperty("--size", s + "px");
    heart.style.setProperty("--dur", (Math.random() * 6 + 6) + "s");
    heart.style.setProperty("--delay", "0s");
    heart.style.setProperty("--rot", (Math.random() * 60 - 30) + "deg");
    heart.style.setProperty("--peak-opacity", (Math.random() * 0.4 + 0.3).toFixed(2));
    heart.style.setProperty("--blur", (s < 18 ? Math.random() * 2 : 0) + "px");

    container.appendChild(heart);
    heart.addEventListener("animationend", function() {
      heart.remove();
    });
  }

  setInterval(spawnHeart, 800);

  function burstPetals(x, y, count) {
    var container = document.createElement("div");
    container.className = "petal-burst";
    document.body.appendChild(container);

    var petalColors = ["#c4405a", "#e8899a", "#f2c1c8", "#d4a857", "#f5d0d6"];
    for (var i = 0; i < count; i++) {
      var petal = document.createElement("div");
      petal.className = "petal";
      petal.style.left = x + "px";
      petal.style.top = y + "px";

      var angle = (Math.PI * 2 * i) / count + (Math.random() - 0.5) * 0.5;
      var dist = Math.random() * 200 + 100;
      petal.style.setProperty("--dx", (Math.cos(angle) * dist) + "px");
      petal.style.setProperty("--dy", (Math.sin(angle) * dist - 100) + "px");
      petal.style.setProperty("--dr", (Math.random() * 720 - 360) + "deg");
      petal.style.setProperty("--petal-size", (Math.random() * 10 + 8) + "px");
      petal.style.setProperty("--petal-color", petalColors[Math.floor(Math.random() * petalColors.length)]);
      petal.style.setProperty("--petal-dur", (Math.random() * 1.5 + 1.5) + "s");
      petal.style.setProperty("--petal-delay", (Math.random() * 0.3) + "s");

      container.appendChild(petal);
    }

    setTimeout(function() { container.remove(); }, 3500);
  }

  var currentScene = 1;

  function transitionTo(sceneNum) {
    var flash = document.getElementById("flashOverlay");
    flash.classList.add("active");

    setTimeout(function() {
      var oldScene = document.getElementById("scene" + currentScene);
      var newScene = document.getElementById("scene" + sceneNum);
      oldScene.classList.remove("active");
      newScene.classList.add("active");
      newScene.scrollTop = 0;
      currentScene = sceneNum;
      flash.classList.remove("active");

      if (sceneNum === 3) {
        renderReasons();
      }
      if (sceneNum === 4) {
        var rect = document.querySelector(".finale-heart").getBoundingClientRect();
        burstPetals(rect.left + rect.width / 2, rect.top + rect.height / 2, 50);
      }
    }, 400);
  }

  var envelopeWrapper = document.getElementById("envelopeWrapper");
  envelopeWrapper.addEventListener("click", function(e) {
    if (envelopeWrapper.classList.contains("opened")) return;
    envelopeWrapper.classList.add("opened");

    burstPetals(e.clientX || window.innerWidth / 2, e.clientY || window.innerHeight / 2, 25);

    setTimeout(function() {
      transitionTo(2);
    }, 900);
  });

  envelopeWrapper.addEventListener("keydown", function(e) {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      envelopeWrapper.click();
    }
  });

  var scene2El = document.getElementById("scene2");
  var scrollHint2 = document.getElementById("scrollHint2");
  scene2El.addEventListener("scroll", function() {
    if (scene2El.scrollTop > 30 && scrollHint2) {
      scrollHint2.style.opacity = "0";
      scrollHint2.style.transition = "opacity 0.4s ease";
    }
  });

  document.getElementById("toReasonsBtn").addEventListener("click", function() {
    transitionTo(3);
  });

  function renderReasons() {
    var list = document.getElementById("reasonsList");
    list.innerHTML = "";
    REASONS.forEach(function(r, i) {
      var card = document.createElement("div");
      card.className = "reason-card";
      card.style.animationDelay = (0.15 * i + 0.2) + "s";
      card.innerHTML =
        '<div class="reason-icon"><i class="fas ' + r.icon + '"></i></div>' +
        '<div class="reason-text">' + r.text + '</div>';
      list.appendChild(card);
    });
  }

  document.getElementById("toFinaleBtn").addEventListener("click", function() {
    transitionTo(4);
  });

  document.getElementById("restartBtn").addEventListener("click", function() {
    envelopeWrapper.classList.remove("opened");
    transitionTo(1);
  });

})();
</script>
</body>
</html>
